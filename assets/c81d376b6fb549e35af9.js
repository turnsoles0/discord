"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[73185],{483562:(e,n,t)=>{t.d(n,{S1:()=>h,xv:()=>p,zc:()=>b,pW:()=>v,wk:()=>y,zz:()=>_,ZP:()=>g});var r=t(675860),i=t(173436),a=t(218276),o=t(682684),u=t(356004),l=t(579220),c=t(461061);function s(e,n,t,r,i,a,o){try{var u=e[a](o),l=u.value}catch(e){t(e);return}u.done?n(l):Promise.resolve(l).then(r,i)}function d(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){s(a,r,i,o,u,"next",e)}function u(e){s(a,r,i,o,u,"throw",e)}o(void 0)}))}}var f=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),
0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e];r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};function h(e,n,t){i.Z.dispatch({type:"CHANNEL_SETTINGS_INIT",channelId:e,location:n,subsection:t})}function p(){i.Z.dispatch({type:"CHANNEL_SETTINGS_CLOSE"})}function b(e){i.Z.dispatch({type:"CHANNEL_SETTINGS_SET_SECTION",section:e})}function v(e){
var n=e.name,t=e.type,r=e.topic,a=e.bitrate,o=e.userLimit,u=e.nsfw,l=e.flags,c=e.rateLimitPerUser,s=e.defaultThreadRateLimitPerUser,d=e.defaultAutoArchiveDuration,f=e.template,h=e.defaultReactionEmoji,p=e.rtcRegion,b=e.videoQualityMode,v=e.autoArchiveDuration,y=e.locked,m=e.invitable,_=e.availableTags,g=e.defaultSortOrder,Z=e.defaultForumLayout;i.Z.dispatch({type:"CHANNEL_SETTINGS_UPDATE",name:n,channelType:t,topic:r,bitrate:a,userLimit:o,nsfw:u,flags:l,rateLimitPerUser:c,defaultThreadRateLimitPerUser:s,defaultAutoArchiveDuration:d,template:f,defaultReactionEmoji:h,rtcRegion:p,videoQualityMode:b,autoArchiveDuration:v,locked:y,invitable:m,availableTags:_,defaultSortOrder:g,defaultForumLayout:Z})}function y(e,n){return m.apply(this,arguments)}function m(){return(m=d((function(e,n){var t,l,s,d,h,p,b,v,y,m,_,g,Z,E,T,S,C,N,O,I,w,A,P;return f(this,(function(f){switch(f.label){case 0:t=n.name,l=n.type,s=n.position,d=n.topic,h=n.bitrate,p=n.userLimit,b=n.nsfw,v=n.flags,
y=n.permissionOverwrites,m=n.rateLimitPerUser,_=n.defaultThreadRateLimitPerUser,g=n.defaultAutoArchiveDuration,Z=n.template,E=n.defaultReactionEmoji,T=n.rtcRegion,S=n.videoQualityMode,C=n.autoArchiveDuration,N=n.locked,O=n.invitable,I=n.availableTags,w=n.defaultSortOrder,A=n.defaultForumLayout;P=u.Z.getChannel(e);i.Z.dispatch({type:"CHANNEL_SETTINGS_SUBMIT"});return[4,o.Z.unarchiveThreadIfNecessary(e)];case 1:f.sent();return[2,r.Z.patch({url:c.ANM.CHANNEL(e),body:{name:t,type:l,position:s,topic:d,bitrate:h,user_limit:p,nsfw:b,flags:v,permission_overwrites:y,rate_limit_per_user:m,default_thread_rate_limit_per_user:_,default_auto_archive_duration:g,template:Z,rtc_region:T,video_quality_mode:S,auto_archive_duration:C,locked:N,invitable:O,default_reaction_emoji:null!=E?{emoji_id:null==E?void 0:E.emojiId,emoji_name:null==E?void 0:E.emojiName}:void 0,available_tags:null==I?void 0:I.map((function(e){return{id:e.id,name:e.name,emoji_id:e.emojiId,emoji_name:e.emojiName,moderated:e.moderated}
})),default_sort_order:w,default_forum_layout:A},oldFormErrors:!0}).then((function(n){i.Z.dispatch({type:"CHANNEL_SETTINGS_SUBMIT_SUCCESS",channelId:e});var t=null==P?void 0:P.getGuildId();null==t||(null==P?void 0:P.isThread())||a.Z.checkGuildTemplateDirty(t);return n}),(function(e){i.Z.dispatch({type:"CHANNEL_SETTINGS_SUBMIT_FAILURE",errors:e.body});return e}))]}}))}))).apply(this,arguments)}function _(e){var n=u.Z.getChannel(e);r.Z.delete({url:c.ANM.CHANNEL(e),oldFormErrors:!0}).then((function(){var e=null==n?void 0:n.getGuildId();null==e||(null==n?void 0:n.isThread())||a.Z.checkGuildTemplateDirty(e);p()}))}const g={init:h,open:function(e,n,t){h(e,n,t);(0,l.jN)(c.S9g.CHANNEL_SETTINGS)},close:p,setSection:b,selectPermissionOverwrite:function(e){i.Z.dispatch({type:"CHANNEL_SETTINGS_OVERWRITE_SELECT",overwriteId:e})},updateChannel:v,saveChannel:y,deleteChannel:_}},836303:(e,n,t)=>{t.d(n,{Z:()=>g});var r=t(785893),i=(t(667294),
t(804626)),a=t(430923),o=t(655695),u=t(668479),l=t(682684),c=t(661623),s=t(631134),d=t(653772),f=t(379822),h=t(882687),p=t(897576),b=t(461061);function v(e,n,t,r,i,a,o){try{var u=e[a](o),l=u.value}catch(e){t(e);return}u.done?n(l):Promise.resolve(l).then(r,i)}function y(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){v(a,r,i,o,u,"next",e)}function u(e){v(a,r,i,o,u,"throw",e)}o(void 0)}))}}function m(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}var _=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),
0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e];r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};const g={handleVoiceConnect:function(e){var n=e.channel,v=e.connected,g=e.needSubscriptionToAccess,Z=e.locked,E=void 0!==Z&&Z,T=e.routeDirectlyToChannel,S=void 0!==T&&T,C=e.bypassChangeModal;return y((function(){var e,Z,T,N,O,I;return _(this,(function(w){switch(w.label){case 0:return n.isThread()?[4,l.Z.unarchiveThreadIfNecessary(n.id)]:[3,3]
;case 1:w.sent();return u.Z.hasJoined(n.id)?[3,3]:[4,l.Z.joinThread(n,"Join Voice")];case 2:w.sent();w.label=3;case 3:e=a.Z.getRemoteSessionId();Z=h.Z.getVoiceStateForSession(s.default.getId(),e);T=(null==Z?void 0:Z.channelId)===n.id;N=T||f.Z.getChannelId()===h.Z.getCurrentClientVoiceChannelId(n.guild_id);O=c.ZP.disableVoiceChannelChangeAlert;if(function(){if(O||C||E||null!=Z)return!1;if(!h.Z.isCurrentClientInVoiceChannel()||h.Z.isInChannel(n.id))return!1;var e=d.Z.getGuild(n.getGuildId());return null==(null==e?void 0:e.afkChannelId)||!h.Z.isInChannel(e.afkChannelId)}()){I=this;(0,p.ZD)(y((function(){var e,i;return _(this,(function(a){switch(a.label){case 0:return[4,t.e(19067).then(t.bind(t,519067))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){
return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){m(e,n,t[n])}))}return e}({channel:n,onConfirm:function(){return I.handleVoiceConnect({channel:n,connected:v,needSubscriptionToAccess:g,routeDirectlyToChannel:S,locked:E,bypassChangeModal:!0})}},e))}]}}))})));return[2]}E||v||i.default.selectVoiceChannel(n.id);!__OVERLAY__&&(v||N||g||S)&&function(e){var n=e.getGuildId();if(null==n)throw new Error("VoiceChannel, transitionTo: Channel does not have a guildId");(0,o.uL)(b.Z5c.CHANNEL(n,e.id))}(n);return[2]}}))})).apply(this)}}},850202:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(785893),i=(t(667294),t(769672)),a=t(682684),o=t(551821),u=t(959797);function l(e){var n,t=(0,o.C7)(e),l=(0,o.tc)(e),c=(0,o.Xb)(e);if(e.isArchivedThread()?l:t)return(null===(n=e.threadMetadata)||void 0===n?void 0:n.archived)?(0,r.jsx)(i.sN,{id:"unarchive-thread",label:e.isForumPost()?u.Z.Messages.UNARCHIVE_FORUM_POST:u.Z.Messages.UNARCHIVE_THREAD,action:function(){return a.Z.unarchiveThread(e,c)
}}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.sN,{id:"archive-thread",label:e.isForumPost()?u.Z.Messages.ARCHIVE_FORUM_POST:u.Z.Messages.ARCHIVE_THREAD,action:function(){return a.Z.archiveThread(e,!1)}}),c?(0,r.jsx)(i.sN,{id:"archive-lock-thread",label:e.isForumPost()?u.Z.Messages.ARCHIVE_LOCK_FORUM_POST:u.Z.Messages.ARCHIVE_LOCK_THREAD,action:function(){return a.Z.archiveThread(e,!0)}}):null]})}},539404:(e,n,t)=>{t.d(n,{Z:()=>g});var r=t(785893),i=(t(667294),t(791462)),a=t(483562),o=t(549425),u=t(829568),l=t(769672),c=t(3056),s=t(631134),d=t(940712),f=t(897576),h=t(461061),p=t(959797);function b(e,n,t,r,i,a,o){try{var u=e[a](o),l=u.value}catch(e){t(e);return}u.done?n(l):Promise.resolve(l).then(r,i)}function v(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){b(a,r,i,o,u,"next",e)}function u(e){b(a,r,i,o,u,"throw",e)}o(void 0)}))}}function y(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,
writable:!0}):e[n]=t;return e}function m(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}var _=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){
case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e];r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};function g(e){var n,b=e.isForumPost(),g=(0,i.e7)([s.default],(function(){return e.isOwner(s.default.getId())}),[e]),Z=(0,i.cj)([d.Z],(function(){return{canAccessChannel:d.Z.can(e.accessPermissions,e),canManageChannel:d.Z.can(e.isThread()?h.Plq.MANAGE_THREADS:h.Plq.MANAGE_CHANNELS,e)}}),[e]),E=Z.canManageChannel,T=Z.canAccessChannel,S=(0,i.e7)([c.Z],(function(){return null!==(n=c.Z.getCount(e.id))&&void 0!==n?n:0}),[e.id]),C=(0,
i.e7)([u.Z],(function(){return u.Z.getMessage(e.id)}),[e.id]).firstMessage,N=b&&(E||g&&S<1),O=b&&g&&!E&&S>0&&null!=C;if(!T)return null;if(!E&&!N&&!O)return null;return(0,r.jsx)(l.sN,{id:"delete-channel",label:e.type===h.d4z.GUILD_CATEGORY?p.Z.Messages.DELETE_CATEGORY:e.isForumPost()?N?p.Z.Messages.DELETE_FORUM_POST:p.Z.Messages.DELETE_MESSAGE:e.isThread()?p.Z.Messages.DELETE_THREAD:p.Z.Messages.DELETE_CHANNEL,color:"danger",action:function(){return(0,f.ZD)(v((function(){var n,i;return _(this,(function(u){switch(u.label){case 0:return[4,Promise.all([t.e(40532),t.e(40709)]).then(t.bind(t,440709))];case 1:n=u.sent(),i=n.default;return[2,function(n){return(0,r.jsx)(i,m(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){y(e,n,t[n])}))}return e
}({},n),{onConfirm:function(){n.onClose();O?o.Z.deleteMessage(e.id,e.id):a.ZP.deleteChannel(e.id)},channel:e}))}]}}))})))}})}},707031:(e,n,t)=>{t.d(n,{Z:()=>S});var r=t(785893),i=t(667294),a=t(124522),o=t(791462),u=t(897193),l=t(14563),c=t(769672),s=t(551821),d=t(897576),f=t(368365),h=t(449024),p=t(653772),b=t(940712),v=t(461061),y=f.Z.combine(v.Plq.VIEW_CHANNEL,v.Plq.MANAGE_MESSAGES,v.Plq.READ_MESSAGE_HISTORY);var m=t(959797);function _(e,n,t,r,i,a,o){try{var u=e[a](o),l=u.value}catch(e){t(e);return}u.done?n(l):Promise.resolve(l).then(r,i)}function g(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){_(a,r,i,o,u,"next",e)}function u(e){_(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Z(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){Z(e,n,t[n])}))}return e}var T=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}
if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e];r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};function S(e,n){var f=e.guild_id,_=i.useMemo((function(){return{guildId:f,entity:e,entityType:a.w.FORUM_POST}}),[f,e]),Z=(0,o.e7)([u.ZP],(function(){return u.ZP.getIsItemFeatured(_)}),[_]),S=(0,s.Xb)(e),C=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.getGuildId(),r=(0,o.e7)([b.Z],(function(){return b.Z.can(y,e)}),[e]),i=(0,o.e7)([p.Z],(function(){return p.Z.getGuild(t)}),[t]),a=(0,h.N2)(i,!1);return!(!r||null===t||!a||e.parentChannelThreadType!==v.d4z.GUILD_FORUM&&!n||!(0,l.fx)(e))}(e);return S&&C?Z?(0,r.jsx)(c.sN,{id:"guild-feed-unfeature",label:m.Z.Messages.GUILD_FEED_UNFEATURE_FORUM_POST,action:function(){return(0,d.ZD)(g((function(){
var e;return T(this,(function(n){switch(n.label){case 0:return[4,Promise.all([t.e(40532),t.e(19375)]).then(t.bind(t,619375))];case 1:e=n.sent().UnfeatureItemConfirmationModal;return[2,function(n){return(0,r.jsx)(e,E({featureableItem:_,header:m.Z.Messages.GUILD_FEED_UNFEATURE_FORUM_POST_MODAL_HEADER,body:m.Z.Messages.GUILD_FEED_UNFEATURED_FORUM_POST_MODAL_BODY},n))}]}}))})))}}):(0,r.jsx)(c.sN,{id:"guild-feed-feature",label:m.Z.Messages.GUILD_FEED_FEATURE_FORUM_POST,children:(0,l.DE)().map((function(i){var a=i.value,o=i.timePeriod;return(0,r.jsx)(c.sN,{id:"".concat(a),label:(0,l.Vm)(o),action:function(){return(0,d.ZD)(g((function(){var i;return T(this,(function(u){switch(u.label){case 0:return[4,Promise.all([t.e(40532),t.e(19375)]).then(t.bind(t,619375))];case 1:i=u.sent().FeatureForumPostConfirmationModal;return[2,function(t){return(0,r.jsx)(i,E({thread:e,guildId:f,expiresSeconds:a,timePeriod:o,options:n},t))}]}}))})))}},a)}))}):null}},275298:(e,n,t)=>{t.d(n,{Z:()=>y})
;var r=t(785893),i=t(667294),a=t(496486),o=t.n(a),u=t(791462),l=t(2157),c=t(852007),s=t(769672),d=t(551821),f=t(940712),h=t(882687),p=t(836303),b=t(461061),v=t(959797);function y(e){var n=(0,l.Z)(),t=(0,u.e7)([h.Z],(function(){return h.Z.isInChannel(e.id)})),a=(0,u.e7)([h.Z],(function(){return!o().isEmpty(h.Z.getVoiceStatesForChannel(e.id))})),y=(0,u.e7)([f.Z],(function(){return f.Z.can(b.Plq.CONNECT,e)})),m=(0,c.Z)(e.id).needSubscriptionToAccess,_=(0,d.$R)(e),g=i.useCallback((function(){p.Z.handleVoiceConnect({channel:e,connected:t,needSubscriptionToAccess:m,locked:!1})}),[e,t,m]);return d.tM.useExperiment({guildId:e.guild_id}).enabled&&!n&&!t&&y&&_&&e.isVocalThread()?(0,r.jsx)(s.sN,{id:"join-thread-voice",label:a?v.Z.Messages.JOIN_CALL:v.Z.Messages.START_CALL,action:g}):null}},555448:(e,n,t)=>{t.d(n,{Z:()=>v});var r=t(785893),i=(t(667294),t(791462)),a=t(291035),o=t(526061),u=t(769672),l=t(682684),c=t(551821),s=t(356004),d=t(35236),f=t(959797);function h(e,n,t,r,i,a,o){try{
var u=e[a](o),l=u.value}catch(e){t(e);return}u.done?n(l):Promise.resolve(l).then(r,i)}function p(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){h(a,r,i,o,u,"next",e)}function u(e){h(a,r,i,o,u,"throw",e)}o(void 0)}))}}var b=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,
i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e];r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};function v(e){var n=(0,i.e7)([s.Z],(function(){return s.Z.getChannel(e.parent_id)})),t=(0,c.Xb)(e),h=(0,o.kF)(e),v=(0,c.$R)(e);return(null==n?void 0:n.isForumChannel())&&t&&v?e.hasFlag(d.zZ.PINNED)?(0,r.jsx)(u.sN,{id:"unpin-thread",label:f.Z.Messages.UNPIN_POST,action:function(){return l.Z.unpin(e)}}):(0,r.jsx)(u.sN,{id:"pin-thread",label:f.Z.Messages.PIN_POST,action:function(){null!=h?a.Z.show({title:f.Z.Messages.FORUM_PIN_CONFIRM_TITLE,body:f.Z.Messages.FORUM_PIN_CONFIRM_BODY,onConfirm:p((function(){return b(this,(function(n){switch(n.label){case 0:return[4,l.Z.unpin(h)];case 1:n.sent();l.Z.pin(e)
;return[2]}}))}))}):l.Z.pin(e)}}):null}},532835:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(785893),i=(t(667294),t(483562)),a=t(769672),o=t(551821),u=t(897576),l=t(959797);function c(e){var n=(0,o.C7)(e),t=(0,o.$R)(e);return n&&t?__OVERLAY__?null:(0,r.jsx)(a.sN,{id:"edit-thread",label:e.isForumPost()?l.Z.Messages.EDIT_FORUM_POST:l.Z.Messages.EDIT_THREAD,action:function(){(0,u.pT)();i.ZP.open(e.id)}}):null}},592587:(e,n,t)=>{t.d(n,{Z:()=>m});var r=t(785893),i=(t(667294),t(791462)),a=t(281081),o=t(152163),u=t(103686),l=t(526061),c=t(769672),s=t(551821),d=t(356004),f=t(392115),h=t(809633),p=t(959797),b=t(179537),v=t.n(b);function y(e){var n=e.tag,t=n.name,a=n.emojiId,u=n.emojiName,l=(0,i.e7)([f.Z],(function(){return null!=a?f.Z.getUsableCustomEmojiById(a):null}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{className:v().emoji,emojiId:a,emojiName:u,animated:Boolean(null==l?void 0:l.animated)}),t]})}function m(e){var n,t=(0,i.e7)([d.Z],(function(){return d.Z.getChannel(e)}),[e]),o=(0,
s.C7)(t),f=(0,i.Wu)([d.Z],(function(){var e;return null!==(n=null===(e=d.Z.getChannel(null==t?void 0:t.parent_id))||void 0===e?void 0:e.availableTags)&&void 0!==n?n:[]}),[null==t?void 0:t.parent_id]),b=(0,l.eV)(t),v=b.length>=h.Cn,m=(0,s.$R)(t);if(null==t){(0,a.Zy)();return null}if(!o)return null;if(__OVERLAY__)return null;if(!t.isForumPost())return null;if(0===f.length)return null;if(!m)return null;var _=f.map((function(e){var n=b.includes(e);return(0,r.jsx)(c.S8,{id:e.id,label:(0,r.jsx)(y,{tag:e}),disabled:v&&!n,action:function(){return function(e){var n=new Set(b);if(n.has(e))n.delete(e);else{if(v)return;n.add(e)}var r=Array.from(n).map((function(e){return e.id}));u.Z.updateForumPostTags(t.id,r)}(e)},checked:n},e.id)}));return(0,r.jsx)(c.sN,{id:"edit-tags",label:p.Z.Messages.FORUM_TAG_POST_EDIT,children:_})}},677893:(e,n,t)=>{t.d(n,{Z:()=>d});var r=t(785893),i=(t(667294),t(791462)),a=t(769672),o=t(668479),u=t(682684),l=t(527815),c=t(504003),s=t(959797);function d(e){var n=(0,l.B)(e)
;return(0,i.e7)([o.Z],(function(){return o.Z.hasJoined(e.id)}))?(0,r.jsx)(a.sN,{id:"thread-notifications",label:s.Z.Messages.NOTIFICATION_SETTINGS,children:(0,c.zb)().map((function(t){var i=t.setting,o=t.label;return(0,r.jsx)(a.k5,{group:"thread-notifications",id:"".concat(i),label:o,action:function(){return u.Z.setNotificationSettings(e,{flags:i})},checked:i===n},i)}))}):(0,r.jsx)(a.sN,{id:"notifications-disabled",label:s.Z.Messages.NOTIFICATION_SETTINGS,disabled:!0})}},366295:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(785893),i=(t(667294),t(769672)),a=t(682684),o=t(551821),u=t(461061),l=t(959797);function c(e){var n,t;if(!(0,o.Xb)(e)||e.type!==u.d4z.PRIVATE_THREAD)return null;var c=null===(t=null===(n=e.threadMetadata)||void 0===n?void 0:n.invitable)||void 0===t||t;return(0,r.jsx)(i.S8,{id:"toggle-thread-invitable",label:l.Z.Messages.THREAD_INVITABLE_TOGGLE_LABEL,checked:c,action:function(){return a.Z.setInvitable(e,!c)}})}},2157:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(791462),i=t(430923)
;function a(){return(0,r.e7)([i.Z],(function(){return null!=i.Z.getRemoteSessionId()||null!=i.Z.getAwaitingRemoteSessionInfo()}))}},852007:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(791462),i=t(537204),a=t(356004),o=t(940712),u=t(461061),l={needSubscriptionToAccess:!1,isSubscriptionGated:!1};function c(e){return(0,r.cj)([a.Z,i.Z,o.Z],(function(){var n=a.Z.getChannel(e);return null!=n&&i.Z.isChannelGated(n.guild_id,n.id)?{isSubscriptionGated:!0,needSubscriptionToAccess:n.isGuildVocal()?!o.Z.can(u.Plq.CONNECT,n):!o.Z.can(u.Plq.VIEW_CHANNEL,n)}:l}),[e])}}}]);
//# sourceMappingURL=c81d376b6fb549e35af9.js.map