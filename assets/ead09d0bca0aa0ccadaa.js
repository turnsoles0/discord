"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[87310],{289965:(e,n,r)=>{r.d(n,{kY:()=>o,Aj:()=>a,d$:()=>s,S1:()=>l,hw:()=>u,kU:()=>c});var t=r(173436),i=r(642400);function o(e,n,r){t.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION",id:e,allow:n,deny:r})}function a(e){t.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION",id:e})}function s(e){t.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE",advancedMode:e})}function l(){t.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_INIT"})}function u(e,n,r){return c(e,n,[],r)}function c(e,n,r,o){t.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING"});return new Promise((function(t){var o=function(){if(0===n.length&&0===r.length)return t();if(n.length>0){var a=n.pop();if(null==a)return o();i.Z.updatePermissionOverwrite(e,a).then(o,o)}else{var s=r.pop();if(null==s)return o();i.Z.clearPermissionOverwrite(e,s).then(o,o)}};o()})).then((function(){t.Z.dispatch({
type:"CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS",silent:o})}))}},304856:(e,n,r)=>{r.d(n,{GJ:()=>m,X0:()=>R,W:()=>v,aq:()=>T,pM:()=>M,ik:()=>N,Wx:()=>_,kA:()=>b,RZ:()=>A,iI:()=>x,cR:()=>P,zB:()=>j,yv:()=>Z,_A:()=>D,$e:()=>k,Yh:()=>B,Yk:()=>H,RD:()=>z,nT:()=>G,$7:()=>U,Tj:()=>V});var t=r(368365),i=r(316921),o=r(289965),a=r(780921),s=r(53551),l=r(212218),u=r(859023),c=r(268333),d=r(90816),f=r(108580),E=r(862045),S=r(461061),h=r(959797);function p(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r;return e}function m(e){return t.Z.has(e.permissions,S.Plq.ADMINISTRATOR)}function y(e){return t.Z.has(e.permissions,S.Plq.ADMINISTRATOR)?E.aC.ADMINISTRATOR:E.aC.ROLE}function R(e){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=y(e);return{rowType:t,colorString:null!==(n=e.colorString)&&void 0!==n?n:(0,i.Rf)(S.p6O),name:e.name,id:e.id,disabled:m(e)||r,key:"".concat(t,":").concat(e.id),tags:e.tags}}function v(e,n){
var r=m(e)?0:1,t=m(n)?0:1;return r!==t?r-t:n.position-e.position}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_NO_ROLES;return[{rowType:E.aC.EMPTY_STATE,colorString:(0,i.Rf)(S.p6O),name:e,disabled:!0,id:"EMPTY_STATE"}]}function O(e,n,r,i){var o=u.default.getCurrentUser();if(null==o)return!1;if(null==e)return o.id!==n;var a=e.permissionOverwrites[n];null!=(null==i?void 0:i[n])&&(a=i[n]);return null==a||!t.Z.has(a.allow,r)}function M(e,n){return e===n}function g(e,n){return!M(e.id,n.id)}function N(e,n,r){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0};return null==e.roles?[]:Object.values(e.roles).filter((function(i){return!m(i)&&O(n,i.id,r)&&g(e,i)&&t(i.name)})).sort(v).map((function(e){return R(e)}))}function _(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0};return null==e.roles?[]:Object.values(e.roles).filter((function(t){
return!m(t)&&O(n,t.id,r)&&g(e,t)&&i(t.name)})).sort(v).map((function(e){return R(e,t.Z.has(e.permissions,r))}))}function b(e,n,r,t){var i=[];if(null==e.roles)return i;i=function(e,n,r,t){return Object.values(e.roles).filter((function(i){return m(i)||!O(n,i.id,r,t)&&g(e,i)}))}(e,n,r,t).sort(v).map((function(e){return R(e)}));return 0===i.length?T(h.Z.Messages.CHANNEL_PERMISSIONS_NO_ROLES):i}function A(e,n,r,i){var o=[];if(null==e.roles)return o;o=function(e,n,r,i){return Object.values(e.roles).filter((function(o){var a;return m(o)||!O(n,o.id,r,i)&&g(e,o)||t.Z.has(t.Z.combine(o.permissions,null===(a=n.permissionOverwrites[o.id])||void 0===a?void 0:a.allow),r)}))}(e,n,r,i).sort(v).map((function(e){return R(e,t.Z.has(e.permissions,r))}));return 0===o.length?T(h.Z.Messages.CHANNEL_PERMISSIONS_NO_ROLES):o}function I(e,n){var r;return null!==(r=l.ZP.getNick(n.id,e.id))&&void 0!==r?r:e.username}function C(e,n){return n.isOwner(e)}function w(e,n){var r=function(e,n){
return n.isOwner(e)?E.aC.OWNER:E.aC.MEMBER}(e,n);return{rowType:r,name:I(e,n),userTag:e.tag,id:e.id,avatarURL:e.getAvatarURL(n.id,24),bot:e.bot,verifiedBot:e.isVerifiedBot(),disabled:C(e,n),key:"".concat(r,":").concat(e.id)}}function L(e,n){return e.rowType!==n.rowType?e.rowType-n.rowType:e.name.toLocaleLowerCase().localeCompare(n.name.toLocaleLowerCase())}function x(e,n,r,t){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!0};return e.map(u.default.getUser).filter(d.lm).filter((function(e){return!r.isOwner(e)&&O(n,e.id,t)&&(i(I(e,r))||i(e.username)||i(e.discriminator))})).map((function(e){return w(e,r)})).sort(L)}function P(e,n,r,t,i){return function(e,n,r,t,i){return e.map(u.default.getUser).filter(d.lm).filter((function(e){return!O(n,e.id,t,i)||C(e,r)}))}(e,n,r,t,i).map((function(e){return w(e,r)})).sort(L)}function j(e,n){switch(e){case E.aC.ROLE:return h.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_ROLE;case E.aC.OWNER:
return h.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_OWNER;case E.aC.ADMINISTRATOR:return h.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_ADMINISTRATOR;case E.aC.MEMBER:return n?h.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_MEMBER:null;case E.aC.EMPTY_STATE:return null}}function Z(e){switch(e){case E.aC.ROLE:return h.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP;case E.aC.OWNER:return h.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_OWNER;case E.aC.ADMINISTRATOR:return h.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_ADMINISTRATOR;case E.aC.MEMBER:return h.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP;case E.aC.EMPTY_STATE:default:return null}}function D(e,n,r){var i=e.permissionOverwrites[e.guild_id];null==i&&(i=f.ZP.makeEveryoneOverwrite(e.guild_id));var o=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r)
;"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));t.forEach((function(n){p(e,n,r[n])}))}return e}({},i);o.deny=t.Z.remove(o.deny,n);o.allow=t.Z.remove(o.allow,n);r||(o.deny=t.Z.add(o.deny,n));return o}function k(e,n,r){var t=D(e,n,r);(0,o.kY)(t.id,t.allow,t.deny)}function B(e,n){var r=u.default.getCurrentUser();if(null!=r){var i=e.permissionOverwrites[r.id];if(null==i){var s={id:r.id,type:a.BN.MEMBER,allow:t.Z.add(f.ZP.NONE,n),deny:f.ZP.NONE};(0,o.hw)(e.id,[s],!0)}else{var l=i.allow,c=i.deny;l=t.Z.add(l,n);(0,o.kY)(i.id,l,c)}}}function H(e,n){if(null==e)return!1;var r=e.permissionOverwrites[e.guild_id];null!=(null==n?void 0:n[e.guild_id])&&(r=n[e.guild_id]);return null!=r&&t.Z.has(r.deny,e.accessPermissions)}function z(e){var n=Object.keys(e.roles);return 0!==n.length&&(1!==n.length||n[0]!==e.id)}function G(e,n,r){
return e===S.d4z.GUILD_TEXT||e===S.d4z.GUILD_ANNOUNCEMENT?n:!(0,s.bw)(e)&&e!==S.d4z.GUILD_CATEGORY||n&&r}function U(e){switch(e){case S.d4z.GUILD_TEXT:case S.d4z.GUILD_ANNOUNCEMENT:return h.Z.Messages.PRIVATE_TEXT_CHANNEL_CREATION_PERMISSION_MISSING_HINT.format();case S.d4z.GUILD_VOICE:return h.Z.Messages.PRIVATE_VOICE_CHANNEL_CREATION_PERMISSION_MISSING_HINT.format();case S.d4z.GUILD_CATEGORY:return h.Z.Messages.PRIVATE_CATEGORY_CREATION_PERMISSION_MISSING_HINT.format();default:return null}}function V(e,n){var r=[];Object.values(e).forEach((function(e){var t=e.row;null!=t.id&&""!==t.id&&(t.rowType===E.aC.ROLE?r.push((0,c.rX)(t.id,n)):t.rowType===E.aC.MEMBER&&r.push((0,c.jZ)(t.id,n)))}));return r}},87310:(e,n,r)=>{r.r(n);r.d(n,{AddMembersBody:()=>le,MemberRoleSelector:()=>ue,default:()=>ce,getFullRowId:()=>ie})
;var t=r(785893),i=r(667294),o=r(294184),a=r.n(o),s=r(125447),l=r(791462),u=r(289965),c=r(97638),d=r(598229),f=r(53551),E=r(356004),S=r(212218),h=r(653772),p=r(893321),m=r(649762),y=r(191940),R=r(146530),v=r(629590),T=r(487502),O=r(48843),M=r(685351),g=r(272729),N=r(562181),_=r(733399),b=r(943327),A=r(806499),I=r(67416),C=r(766936),w=r(880068),L=r(932847),x=r(268333),P=r(462020),j=r(763611),Z=r(304856),D=r(35021),k=r.n(D);const B=i.forwardRef((function(e,n){var r=e.query,i=e.onQueryChange,o=e.onRemoveTag,a=e.onSelect,s=e.onSelectionChange,l=e.selectedSection,u=e.selectedRow,d=e.tags,f=e.sections,E=e.placeholder,S=void 0===E?"":E,h=e.focusAfterReady,p=e.isReady,m=e["aria-labelledby"],y=e["aria-controls"];return(0,t.jsx)(c.ZP,{autoFocus:!0,className:k().searchBar,maxHeight:100,onQueryChange:i,onRemoveTag:o,selectedSection:l,selectedRow:u,onSelect:a,onSelectionChange:s,placeholder:0===d.length?S:"",query:r,ref:n,size:c.ZP.Sizes.MEDIUM,tags:d,sections:f,focusAfterReady:h,isReady:p,
inputProps:{"aria-labelledby":m,"aria-controls":y,"aria-expanded":!0,"aria-activedescendant":"user-row-".concat(u)}})}));var H=r(862045),z=r(461061),G=r(959797),U=r(618719),V=r.n(U);function Y(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function W(e,n,r,t,i,o,a){try{var s=e[o](a),l=s.value}catch(e){r(e);return}s.done?n(l):Promise.resolve(l).then(t,i)}function q(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function a(e){W(o,t,i,a,s,"next",e)}function s(e){W(o,t,i,a,s,"throw",e)}a(void 0)}))}}function $(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r;return e}function F(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))))
;t.forEach((function(n){$(e,n,r[n])}))}return e}function Q(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));r.push.apply(r,t)}return r}(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}));return e}function X(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++){r=o[t];n.indexOf(r)>=0||(i[r]=e[r])}return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++){r=o[t];n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}}return i}function J(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){
var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(t=r.next()).done);a=!0){o.push(t.value);if(n&&o.length===n)break}}catch(e){s=!0;i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return Y(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e){var n=function(e,n){if("object"!==ee(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,n||"default");if("object"!==ee(t))return t
;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===ee(n)?n:String(n)}var ee=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var ne=function(e,n){var r,t,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,t&&(i=2&o[0]?t.return:o[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,o[1])).done)return i;(t=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:a.label++;return{value:o[1],done:!1};case 5:a.label++;t=o[1];o=[0];continue;case 7:o=a.ops.pop();a.trys.pop();continue;default:if(!(i=a.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}
if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1];i=o;break}if(i&&a.label<i[2]){a.label=i[2];a.ops.push(o);break}i[2]&&a.ops.pop();a.trys.pop();continue}o=n.call(e,a)}catch(e){o=[6,e];t=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},re=(0,g.hQ)(),te=(0,g.hQ)();function ie(e){return"".concat(e.rowType,":").concat(e.id)}function oe(e){return(0,t.jsx)(N.vw,{tag:"h5",className:a()(V().sectionTitle,V().rowHeight),children:e},e)}function ae(e,n){return n?e.slice(1):e}function se(e){var n=e.id,r=e.children,i=e.rowLabel,o=e.checked,l=e.onSelect,u=e.disabled,c=e.showCheckbox,d=e.selected,f=e.onMouseEnter,E=e["aria-posinset"],S=e["aria-setsize"],h=(0,s.JA)(n);return(0,t.jsx)(v.Z,Q(F({},h),{id:n,className:a()(V().addMemberRow,$({},V().selectedRow,d)),onClick:function(e){if(!u){e.preventDefault();l()}},onMouseEnter:f,role:"option","aria-disabled":u,"aria-selected":o,"aria-setsize":S,"aria-posinset":E,
children:(0,t.jsxs)(T.Z,{justify:T.Z.Justify.BETWEEN,align:T.Z.Align.CENTER,children:[c?(0,t.jsx)(R.Z,{displayOnly:!0,size:18,value:o,type:R.Z.Types.INVERTED,children:(0,t.jsx)("div",{className:V().checkboxLabel,children:r})}):r,null!=i?(0,t.jsx)(M.x,{color:"text-muted",variant:"text-xs/normal",children:i}):null]})}))}function le(e){var n,r=e.guild,o=e.channel,a=e.permission,s=e.pendingAdditions,u=e.setPendingAdditions,d=e.isStageChannel,f=void 0===d?null!=o&&o.isGuildStageVoice():d,E=e.description,h=function(e){var n=ae(v.trim(),m);return new RegExp("".concat(j.Z.escape(n)),"i").test(e)},p=J(i.useState(!1),2),m=p[0],y=p[1],R=J(i.useState(""),2),v=R[0],T=R[1],O=(0,l.e7)([S.ZP],(function(){return S.ZP.getMemberIds(r.id)}));m?n=[]:f?n=Z.Wx(r,o,a,h):0===(n=Z.ik(r,o,a,h)).length&&(""!==v.trim()||Z.RD(r)||(n=Z.aq()));var M=Z.iI(O,o,r,a,h),g={placeholderText:G.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_PLACEHOLDER,hintText:G.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_SUBTITLE,
renderEmptyText:function(e){return G.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_NO_RESULT.format({query:e})}},N=g.placeholderText,_=g.hintText,b=g.renderEmptyText;return(0,t.jsx)(ue,{pendingAdditions:s,query:v,onQueryChange:function(e){var n=e.trim(),t="@"===n.charAt(0);P.Z.requestMembers(r.id,ae(n,t),H.EQ);T(e);y(t)},onClickRow:function(e){var n=ie(e);u((function(r){var t=F({},r);if(n in t)delete t[n];else{var i;e.rowType===H.aC.ROLE||e.rowType===H.aC.ADMINISTRATOR?i={type:c.Fj.ROLE,label:e.name,color:e.colorString}:e.rowType!==H.aC.MEMBER&&e.rowType!==H.aC.OWNER||(i={type:c.Fj.MEMBER,label:e.name,avatar:e.avatarURL});null!=i&&(t[n]={display:i,row:e})}return t}))},onRemovePendingAddition:function(e){u((function(n){n[e];return X(n,[e].map(K))}))},roles:n,members:M,placeholderText:N,hintText:_,renderEmptyText:b,isStageChannel:f,description:E})}function ue(e){
var n=e.listClassName,r=e.pendingAdditions,o=e.query,s=e.onQueryChange,u=e.onClickRow,c=e.onRemovePendingAddition,f=e.roles,E=e.members,S=e.placeholderText,h=e.hintText,y=e.renderEmptyText,R=e.isStageChannel,v=e.focusSearchAfterReady,O=e.isReady,g=e.description,N=function(){var e;P(!(null===(e=A.current)||void 0===e?void 0:e.isScrolledToTop())&&X)},_=i.useRef(null),A=i.useRef(null),I=(0,l.e7)([p.Z],(function(){return p.Z.hidePersonalInformation})),L=J(i.useState(!1),2),x=L[0],P=L[1],j=J(i.useState(0),2),D=j[0],k=j[1],z=J(i.useState(-1),2),U=z[0],Y=z[1],W=i.useCallback((function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];k(e);Y(n);if(r){var t;null===(t=A.current)||void 0===t||t.scrollToIndex({section:null!=e?e:0,row:null!=n?n:0,padding:8})}}),[]),q=i.useCallback((function(e,n){if(null!=n){s("");var r=(e===H.$M.ROLES?f:E)[n];r.rowType!==H.aC.EMPTY_STATE&&u(r)}}),[f,E,u,s]),F=i.useCallback((function(e){var n;if(null!=e&&e.rowType!==H.aC.EMPTY_STATE){u(e);s("")
;null===(n=_.current)||void 0===n||n.focus()}}),[u,s]),Q=i.useMemo((function(){return Object.keys(r)}),[r]),X=E.some((function(e){return!e.disabled}))||f.some((function(e){return!e.disabled}))||""===o.trim();i.useEffect((function(){N()}));return(0,t.jsxs)("div",{className:V().content,children:[function(){var e=g;null==e&&R&&(e=G.Z.Messages.CHANNEL_PERMISSIONS_MODERATOR_DESCRIPTION);return null==e||""===e?null:(0,t.jsx)(M.x,{color:"header-secondary",className:V().description,variant:"text-sm/normal",children:e})}(),(0,t.jsxs)("div",{className:a()(V().searchBox,$({},V().scrollSeparator,x)),children:[(0,t.jsx)(B,{ref:_,query:o,onQueryChange:s,selectedSection:D,selectedRow:U,onSelectionChange:W,onSelect:q,tags:Q.map((function(e){return r[e].display})),sections:[f.length,E.length],onRemoveTag:function(e){c(Q[e])},placeholder:S,focusAfterReady:v,isReady:O,"aria-labelledby":re,"aria-controls":te}),null!=h?(0,t.jsx)(M.x,{variant:"text-xs/normal",children:h}):null]}),X?(0,t.jsx)(w.ZP,{ref:A,
className:a()(V().roleMemberList,n),sections:[f.length,E.length],renderRow:function(e){var n,i,o=e.section,s=e.row,l=null,u=!1,c=!1,d=!1;switch(o){case H.$M.ROLES:u=(i=ie(l=f[s]))in r||l.disabled;c=l.disabled;d=D===H.$M.ROLES&&U===s;n=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:a()(V().rowHeight,V().alignCenter),children:(0,t.jsx)(b.Z,{color:l.colorString,height:20})}),(0,t.jsxs)("div",{className:V().rowLabel,children:[(0,t.jsx)(M.x,{variant:"text-sm/medium",className:V().rowTitle,color:l.rowType===H.aC.EMPTY_STATE?"text-muted":"text-normal",children:l.name}),R&&l.disabled?(0,t.jsx)(M.x,{color:"header-secondary",variant:"text-xs/normal",children:G.Z.Messages.CHANNEL_PERMISSIONS_ROLE_ALREADY_HAS_PERMISSIONS}):null]})]});break;case H.$M.MEMBERS:u=(i=ie(l=E[s]))in r||l.disabled;c=l.disabled;d=D===H.$M.MEMBERS&&U===s;n=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.ZP,{src:l.avatarURL,size:C.ZP.Sizes.SIZE_24,"aria-label":""}),(0,t.jsx)(M.x,{className:V().rowLabel,
"aria-hidden":!I,variant:"text-sm/normal",children:l.name}),l.bot&&(0,t.jsx)(m.Z,{verified:l.verifiedBot}),!I&&(0,t.jsx)(M.x,{color:"text-muted",className:V().rowLabelSubText,variant:"text-sm/normal",children:l.userTag})]})}return null==l?null:(0,t.jsx)(se,{id:"user-row-".concat(s),rowLabel:Z.zB(l.rowType),checked:u,disabled:c,onSelect:function(){return F(l)},showCheckbox:l.rowType!==H.aC.EMPTY_STATE,onMouseEnter:function(){return W(o,s,!1)},selected:d,"aria-posinset":s+1,"aria-setsize":f.length+E.length,children:(0,t.jsx)(T.Z,{align:T.Z.Align.CENTER,justify:T.Z.Justify.START,children:n})},i)},rowHeight:40,renderSection:function(e){switch(e.section){case H.$M.ROLES:return oe(G.Z.Messages.ROLES);case H.$M.MEMBERS:return oe(G.Z.Messages.MEMBERS)}},sectionHeight:32,onScroll:N,role:void 0,innerRole:"listbox",innerId:te,innerAriaMultiselectable:!0,innerAriaOrientation:"vertical"}):(0,t.jsxs)(T.Z,{className:n,align:T.Z.Align.CENTER,justify:T.Z.Justify.CENTER,direction:T.Z.Direction.VERTICAL,
children:[(0,t.jsx)(d.Z,{className:V().noResultIcon}),(0,t.jsx)(M.x,{variant:"text-sm/normal",children:y(o)})]})]})}function ce(e){var n=e.transitionState,r=e.onClose,o=e.channelId,a=e.newChannel,s=e.inSettings,u=J(i.useState(!1),2),c=u[0],d=u[1],S=J(i.useState({}),2),p=S[0],m=S[1],R=(0,l.e7)([E.Z],(function(){return E.Z.getChannel(o)}),[o]),v=(0,l.e7)([h.Z],(function(){return h.Z.getGuild(null==R?void 0:R.getGuildId())}));i.useEffect((function(){L.default.track(z.rMx.OPEN_MODAL,{type:"Grant Channel Access"})}),[]);if(null==R||null==v)return null;var g=a&&0===Object.keys(p).length;function N(){return(N=q((function(){return ne(this,(function(e){switch(e.label){case 0:if(null==R||0===Object.keys(p).length){r();return[2]}d(!0);e.label=1;case 1:e.trys.push([1,3,,4]);return[4,de(R,p,s)];case 2:e.sent();r();d(!1);return[3,4];case 3:e.sent();d(!1);return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}var b=(0,f.zi)(R.type)?_.Z:A.Z;return(0,t.jsxs)(I.Y0,{transitionState:n,size:I.Cg.SMALL,
"aria-labelledby":re,className:V().modalRoot,children:[(0,t.jsxs)(I.xB,{separator:!1,direction:T.Z.Direction.VERTICAL,align:T.Z.Align.CENTER,className:V().header,children:[(0,t.jsx)(O.X,{id:re,variant:"heading-xl/semibold",children:G.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TITLE}),(0,t.jsxs)(M.x,{variant:"text-md/normal",color:"header-secondary",className:V().headerSubtitle,children:[(0,t.jsx)(b,{height:16,width:16,className:V().headerSubtitleIcon}),R.name]})]}),(0,t.jsx)(le,{guild:v,channel:R,permission:R.accessPermissions,pendingAdditions:p,setPendingAdditions:m}),(0,t.jsxs)(I.mz,{children:[!g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.Co,{onClick:function(){return N.apply(this,arguments)},look:y.Co.Looks.FILLED,size:y.Co.Sizes.SMALL,className:V().button,submitting:c,children:G.Z.Messages.DONE}),(0,t.jsx)(y.Co,{look:y.Co.Looks.LINK,color:y.Co.Colors.TRANSPARENT,onClick:r,size:y.Co.Sizes.SMALL,children:G.Z.Messages.CANCEL})]}),g&&(0,t.jsx)(y.Co,{look:y.Co.Looks.FILLED,
color:y.Co.Colors.PRIMARY,onClick:r,size:y.Co.Sizes.SMALL,children:G.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_SKIP})]})]})}function de(e,n,r){var t=[];Object.values(n).forEach((function(n){var r=n.row;null!=r.id&&""!==r.id&&(r.rowType===H.aC.ROLE?t.push((0,x.rX)(r.id,e.type)):r.rowType===H.aC.MEMBER&&t.push((0,x.jZ)(r.id,e.type)))}));return(0,u.hw)(e.id,t,r)}},598229:(e,n,r)=>{r.d(n,{Z:()=>l});var t=r(785893),i=(r(667294),r(294184)),o=r.n(i),a=r(735716),s=r.n(a);function l(e){var n=e.className;return(0,t.jsx)("div",{className:o()(s().image,n)})}}}]);
//# sourceMappingURL=ead09d0bca0aa0ccadaa.js.map